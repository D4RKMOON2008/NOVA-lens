<!-- Creado por Andres Roman Suarez Pardo -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nova Lens ‚Äì Tienda de Lentes</title>
  <!-- Bootstrap v√≠a CDN (r√°pido para empezar) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --beige:#f5f0e6;
      --negro:#0f0f0f;
      --acento:#d4b483;
    }
    body{ padding-bottom: 6rem; }
    .brand{ font-weight: 900; letter-spacing:.5px; }
    .price{ font-weight:700; }
    .card img{ object-fit: cover; height: 220px; }
    /* Caja grunge para Nequi */
    .grunge{
      background: var(--beige);
      border:2px solid var(--negro);
      border-radius: 14px;
      box-shadow: 6px 6px 0 var(--negro);
      position: relative;
      overflow: hidden;
    }
    .grunge:before{
      content:"";
      position:absolute; inset:0;
      background: repeating-linear-gradient(45deg, rgba(0,0,0,.03) 0 6px, rgba(0,0,0,.06) 6px 12px);
      mix-blend-mode: multiply; pointer-events:none;
    }
    .btn-acento{ background:var(--acento); color:#000; border:1px solid #000; font-weight:700; }
    .btn-acento:hover{ filter:brightness(.95); }
    footer{ background:#111; color:#fff; }
    .firma{ opacity:.8; font-style:italic; }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm">
    <div class="container">
      <a class="navbar-brand brand" href="#">Nova Lens</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Men√∫">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link active" href="#catalogo">Cat√°logo</a></li>
          <li class="nav-item"><a class="nav-link" href="#pago">Pago Nequi</a></li>
          <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
        </ul>
        <button class="btn btn-primary position-relative" data-bs-toggle="modal" data-bs-target="#modalCarrito">
          Carrito
          <span id="badgeCarrito" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="bg-light border-bottom">
    <div class="container py-5">
      <div class="row align-items-center g-4">
        <div class="col-lg-6">
          <h1 class="display-5 fw-bold">Lentes con estilo y protecci√≥n</h1>
          <p class="lead">Todos los modelos a <strong>$50.000 COP</strong>. Enviamos a todo el pa√≠s.</p>
          <a href="#catalogo" class="btn btn-primary btn-lg">Ver cat√°logo</a>
        </div>
        <div class="col-lg-6">
          <!-- Puedes cambiar esta imagen por una propia -->
        <img class="img-fluid rounded-4 shadow" src="img/cafe_eyes.jpg" alt="Ojos caf√©">
        </div>
      </div>
    </div>
  </header>

  <!-- CATALOGO -->
  <main id="catalogo" class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="fw-bold m-0">Cat√°logo</h2>
      <input id="busqueda" class="form-control w-auto" placeholder="Buscar modelo..." />
    </div>

    <div id="gridProductos" class="row g-4">
      <!-- Productos (usa tus archivos locales) -->
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card h-100" data-id="p1" data-nombre="Estuche Nova Lens" data-precio="50000">
        <img src="img/muestra_kit.jpg" class="card-img-top" alt="Estuche Nova Lens">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Estuche Nova Lens</h5>
            <p class="card-text">Estuche r√≠gido plastico , acabado azul y logo "Nova Lens". Ideal para cuidar tus lentes.</p>
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <span class="price">$50.000</span>
              <button class="btn btn-outline-primary btnAgregar">Agregar</button>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card h-100" data-id="p2" data-nombre="Lente Caf√©" data-precio="50000">
          <img src="img/cafe_eyes.jpg" class="card-img-top" alt="Lente color Caf√©"/>

          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Lente color Caf√©</h5>
            <p class="card-text">Tono c√°lido y natural que realza la mirada sin perder sutileza.</p>
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <span class="price">$50.000</span>
              <button class="btn btn-outline-primary btnAgregar">Agregar</button>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card h-100" data-id="p3" data-nombre="Lente Sky Gray" data-precio="50000">
         <img src="img/gray_lens.jpg" class="card-img-top" alt="Lente Sky Gray"/>

          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Lente Sky Gray</h5>
            <p class="card-text">Gris claro con acabado suave. Aspecto moderno y muy natural.</p>
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <span class="price">$50.000</span>
              <button class="btn btn-outline-primary btnAgregar">Agregar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Para agregar m√°s colores en el futuro, duplica una tarjeta y cambia src/nombre/precio. -->
    </div>
  </main>

  <!-- PAGO NEQUI (estilo beige/negro grunge) -->
  <section id="pago" class="container pb-5">
    <div class="p-4 grunge">
      <div class="row g-4 align-items-center">
        <div class="col-lg-6">
          <h3 class="fw-bold mb-2">üí≥ Pago por Nequi</h3>
          <p class="mb-3">Realiza tu pago f√°cil y r√°pido. Env√≠a el comprobante por WhatsApp para acelerar el despacho.</p>
          <div class="p-3 bg-dark text-light rounded-3">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <div class="small text-secondary">N√∫mero Nequi / Soporte</div>
                <div class="h4 m-0">320 517 9442</div>
              </div>
              <button class="btn btn-acento" id="btnCopiarNequi">üìã Copiar</button>
            </div>
          </div>
          <div class="mt-3 d-flex gap-2">
            <a class="btn btn-dark" href="https://wa.me/573205179442" target="_blank">‚úâÔ∏è Enviar comprobante por WhatsApp</a>
            <a class="btn btn-outline-dark" href="mailto:soporte@novalens.co?subject=Comprobante%20de%20pago&body=Adjunto%20comprobante">üìß Enviar por correo</a>
          </div>
        </div>
        <div class="col-lg-6">
          <img src="img/nova_lens.jpg" alt="Estuche Nova Lens" class="img-fluid rounded-4 border border-dark"/>

        </div>
      </div>
    </div>
  </section>

  <!-- CONTACTO / FEEDBACK + IA -->
  <section id="contacto" class="container pb-5">
    <div class="p-4 rounded-4 bg-body-tertiary">
      <h3 class="fw-bold">Contacto y Soporte</h3>
      <p class="mb-2">Correo: <a href="mailto:soporte@novalens.co">soporte@novalens.co</a> ‚Äî WhatsApp: <a href="https://wa.me/573205179442" target="_blank">320 517 9442</a></p>

      <div class="row g-4">
        <div class="col-md-6">
          <h5 class="fw-semibold">‚úçÔ∏è D√©janos tu comentario</h5>
          <form id="frmFeedback" class="vstack gap-2">
            <input class="form-control" id="fbNombre" placeholder="Tu nombre" required>
            <input class="form-control" id="fbEmail" placeholder="Tu correo" type="email" required>
            <textarea class="form-control" id="fbMensaje" rows="4" placeholder="Escribe tu mensaje..." required></textarea>
            <button class="btn btn-primary" type="submit">Enviar</button>
          </form>
        </div>
        <div class="col-md-6">
   <section id="contacto" class="py-5">
  <div class="container">
    <div class="row">
      <!-- Formulario de comentarios -->
      <div class="col-12">
        <h5 class="fw-semibold">‚úç D√©janos tu comentario</h5>
        <form id="frmFeedback" class="vstack gap-2">
          <input class="form-control" id="fbNombre" placeholder="Tu nombre" required>
          <input class="form-control" id="fbEmail" placeholder="Tu correo" type="email" required>
          <textarea class="form-control" id="fbMensaje" rows="4" placeholder="Escribe tu mensaje..." required></textarea>
          <button class="btn btn-primary" type="submit">Enviar</button>
        </form>
      </div>
    </div>
  </div>
  </section>

  <!-- FOOTER con firma -->
  <footer class="mt-5 py-4">
    <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
      <div>¬© 2025 Nova Lens</div>
      <div class="firma">Creado por Andres Roman Suarez Pardo</div>
    </div>
  </footer>

  <!-- MODAL CARRITO -->
  <div class="modal fade" id="modalCarrito" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Tu carrito</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <div class="table-responsive">
            <table class="table align-middle">
              <thead>
                <tr><th>Producto</th><th style="width:140px">Cantidad</th><th>Precio</th><th>Subtotal</th><th></th></tr>
              </thead>
              <tbody id="tbodyCarrito"></tbody>
            </table>
          </div>
          <div class="d-flex justify-content-end">
            <h5>Total: <span id="totalCarrito">$0</span></h5>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-secondary" id="btnVaciar">Vaciar</button>
          <button class="btn btn-primary" id="btnFinalizar">Finalizar compra</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- L√≥gica de carrito + IA + Feedback -->
  <script>
    const fmtCOP = v => new Intl.NumberFormat('es-CO', { style: 'currency', currency: 'COP', maximumFractionDigits: 0 }).format(v);

    const badge = document.getElementById('badgeCarrito');
    const tbody = document.getElementById('tbodyCarrito');
    const totalEl = document.getElementById('totalCarrito');
    const grid = document.getElementById('gridProductos');
    const busqueda = document.getElementById('busqueda');

    let carrito = JSON.parse(localStorage.getItem('carrito') || '[]');

    function guardar(){ localStorage.setItem('carrito', JSON.stringify(carrito)); }
    function cantidadTotal(){ return carrito.reduce((a, i) => a + i.cantidad, 0); }
    function total(){ return carrito.reduce((a, i) => a + i.precio * i.cantidad, 0); }

    function actualizarBadge(){ badge.textContent = cantidadTotal(); }

    function renderCarrito(){
      tbody.innerHTML = '';
      carrito.forEach(item => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${item.nombre}</td>
          <td>
            <div class="input-group input-group-sm">
              <button class="btn btn-outline-secondary" data-accion="menos" data-id="${item.id}">‚àí</button>
              <input class="form-control text-center" value="${item.cantidad}" disabled style="max-width:60px">
              <button class="btn btn-outline-secondary" data-accion="mas" data-id="${item.id}">+</button>
            </div>
          </td>
          <td>${fmtCOP(item.precio)}</td>
          <td>${fmtCOP(item.precio * item.cantidad)}</td>
          <td><button class="btn btn-sm btn-outline-danger" data-accion="quitar" data-id="${item.id}">Quitar</button></td>`;
        tbody.appendChild(tr);
      });
      totalEl.textContent = fmtCOP(total());
      actualizarBadge();
      guardar();
    }

    function agregarDesdeCard(card){
      const id = card.dataset.id;
      const nombre = card.dataset.nombre;
      const precio = parseInt(card.dataset.precio, 10);
      const existe = carrito.find(i => i.id === id);
      if (existe) existe.cantidad += 1; else carrito.push({ id, nombre, precio, cantidad: 1 });
      renderCarrito();
    }

    grid.addEventListener('click', e => {
      if (e.target.classList.contains('btnAgregar')){
        const card = e.target.closest('.card');
        agregarDesdeCard(card);
      }
    });

    tbody.addEventListener('click', e => {
      const btn = e.target.closest('button');
      if(!btn) return;
      const id = btn.dataset.id;
      const it = carrito.find(i => i.id === id);
      if(!it) return;
      if(btn.dataset.accion === 'mas') it.cantidad += 1;
      if(btn.dataset.accion === 'menos') it.cantidad = Math.max(1, it.cantidad - 1);
      if(btn.dataset.accion === 'quitar') carrito = carrito.filter(i => i.id !== id);
      renderCarrito();
    });

    document.getElementById('btnVaciar').addEventListener('click', () => { carrito = []; renderCarrito(); });

   document.getElementById('btnFinalizar').addEventListener('click', () => {
  if (!carrito.length) return alert('Tu carrito est√° vac√≠o.');

  const nombre = prompt('Ingresa tu nombre completo:');
  if (!nombre) return;

  const telefono = prompt('Ingresa tu n√∫mero de tel√©fono:');
  if (!telefono) return;

  const direccion = prompt('Ingresa tu direcci√≥n de entrega:');
  if (!direccion) return;

  const detalle = carrito
    .map(i => `${i.nombre} x${i.cantidad} = ${fmtCOP(i.precio * i.cantidad)}`)
    .join('%0A');
  const totalTxt = fmtCOP(total());
  const numero = '573205179442'; // <-- c√°mbialo por TU n√∫mero (57 + n√∫mero)
  const msg =
    `Hola, quiero finalizar mi compra:%0A%0A${detalle}%0A%0ATotal: ${totalTxt}` +
    `%0A%0ANombre: ${encodeURIComponent(nombre)}` +
    `%0ATel√©fono: ${encodeURIComponent(telefono)}` +
    `%0ADirecci√≥n: ${encodeURIComponent(direccion)}`;

  window.open(`https://wa.me/${numero}?text=${msg}`, '_blank');
});


    // B√∫squeda simple por t√≠tulo
    busqueda.addEventListener('input', () => {
      const q = busqueda.value.toLowerCase();
      document.querySelectorAll('#gridProductos .card').forEach(c => {
        const nombre = c.dataset.nombre.toLowerCase();
        c.parentElement.style.display = nombre.includes(q) ? '' : 'none';
      });
    });

    // Copiar n√∫mero de Nequi
    document.getElementById('btnCopiarNequi').addEventListener('click', async () => {
      try{ await navigator.clipboard.writeText('3205179442'); alert('N√∫mero copiado: 3205179442'); }
      catch{ alert('No se pudo copiar. Copia manual: 3205179442'); }
    });

    // Mini-IA de respuestas r√°pidas
    document.getElementById('btnIA').addEventListener('click', () => {
      const txt = (document.getElementById('preguntaIA').value||'').toLowerCase();
      let r = 'No estoy seguro, te contacta un asesor.';
      if(txt.includes('precio')) r = 'Todos los modelos cuestan $50.000 COP.';
      else if(txt.includes('pago') || txt.includes('nequi')) r = 'Puedes pagar por Nequi al 320 517 9442 y enviar el comprobante por WhatsApp.';
      else if(txt.includes('envio') || txt.includes('env√≠o')) r = 'Enviamos a todo Colombia por mensajer√≠a. Tiempo estimado 2‚Äì5 d√≠as h√°biles.';
      else if(txt.includes('cafe')) r = 'El color caf√© es c√°lido y natural; ideal para uso diario.';
      else if(txt.includes('sky') || txt.includes('gris')) r = 'Sky Gray es un gris claro muy natural y moderno.';
      document.getElementById('respuestaIA').textContent = r;
    });

    // Feedback por correo
    document.getElementById('frmFeedback').addEventListener('submit', (e)=>{
      e.preventDefault();
      const nombre = document.getElementById('fbNombre').value.trim();
      const email = document.getElementById('fbEmail').value.trim();
      const msj = document.getElementById('fbMensaje').value.trim();
      const asunto = encodeURIComponent('Nuevo mensaje desde Nova Lens');
      const cuerpo = encodeURIComponent(`Nombre: ${nombre}
Correo: ${email}

Mensaje:
${msj}`);
      window.location.href = `mailto:novalenscorp@gmail.com?subject=${asunto}&body=${cuerpo}`;
    });

    // Inicio
    renderCarrito();
  </script>
</body>
</html>


